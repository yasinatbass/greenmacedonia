<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-mk="Сертификат за Донација | Зелена Македонија Фондација" 
          data-en="Donation Certificate | Green Macedonia Foundation" 
          data-sq="Certifikatë Dhurimi | Fondacioni Green Maqedoni">
      Сертификат за Донација | Зелена Македонија Фондација
    </title>
    <meta name="description" content="Вашиот сертификат за донација на fidanki. Споделете го на социјални мрежи!">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap" rel="stylesheet"> <!-- Zarif font için -->
    <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: "#006633",
            secondary: "#339966",
            accent: "#99cc33",
            light: "#f0fff0"
          },
          fontFamily: { sans: ['Open Sans', 'sans-serif'], elegant: ['EB Garamond', 'serif'] }
        }
      }
    }
    </script>
    <style>
      body { background-color: #f0fff0; }
      #certificate { max-width: 700px; margin: 60px auto; padding: 50px; background-color: white; border: 8px double #339966; border-radius: 30px; text-align: center; box-shadow: 0 15px 40px rgba(0,102,51,0.2); position: relative; }
      #certificate::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle, rgba(153,204,51,0.1) 0%, transparent 70%); opacity: 0.5; }
      #certificate h1 { font-family: 'EB Garamond', serif; font-size: 3rem; color: #006633; margin-bottom: 40px; letter-spacing: 2px; }
      #certificate .donor-name { font-family: 'EB Garamond', serif; font-size: 2.5rem; color: #339966; margin-bottom: 30px; font-style: italic; }
      #certificate .details { font-size: 1.4rem; color: #006633; margin-bottom: 20px; }
      #certificate .message { font-size: 1.3rem; font-style: italic; color: #5c5c5c; margin-bottom: 40px; }
      #certificate .signature { display: flex; justify-content: space-around; margin-top: 50px; }
      #certificate .sig { text-align: center; width: 40%; }
      #certificate .sig .sig-line { width: 200px; height: 2px; background-color: #006633; margin: 0 auto 10px; }
      #certificate .sig p { font-size: 1.1rem; color: #006633; }
      #certificate .logo { width: 180px; margin: 40px auto; }
      #certificate .foundation { font-size: 1rem; color: #339966; margin-top: 20px; font-weight: bold; }
      .lang-selector { display: flex; justify-content: center; gap: 15px; margin-top: 40px; }
      .lang-btn { padding: 8px 20px; border-radius: 50px; background-color: #f0fff0; border: 2px solid #99cc33; color: #006633; font-weight: bold; cursor: pointer; transition: all 0.3s; }
      .lang-btn.active { background-color: #99cc33; color: white; }
      .lang-btn:hover { transform: scale(1.05); }
      .share-buttons { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; }
      .share-btn { background-color: #339966; color: white; padding: 12px 24px; border-radius: 50px; font-weight: bold; transition: all 0.3s; display: flex; align-items: center; gap: 10px; }
      .share-btn:hover { background-color: #006633; transform: scale(1.05); }
      .share-btn i { font-size: 1.2rem; }
      .back-btn { background-color: #99cc33; color: #006633; padding: 12px 24px; border-radius: 50px; font-weight: bold; transition: all 0.3s; display: inline-block; margin-top: 30px; }
      .back-btn:hover { background-color: #339966; color: white; transform: scale(1.05); }
      #saveBtn { background-color: #27ae60; color: white; }
      #whatsappBtn { background-color: #25D366; color: white; }
    </style>
</head>
<body>

<!-- Certificate -->
<div id="certificate">
  <h1 data-mk="СЕРТИФИКАТ ЗА ДОНАЦИЈА НА ФИДАНКИ" 
      data-en="SAPLING DONATION CERTIFICATE" 
      data-sq="CERTIFIKATË DHURIMI FIDANI">
    СЕРТИФИКАТ ЗА ДОНАЦИЈА НА ФИДАНКИ
  </h1>

  <p class="donor-name" id="donorName"></p>

  <p class="details" id="donationDetails"></p>

  <p class="message" id="message"></p>

  <div class="signature">
    <div class="sig">
      <div class="sig-line"></div>
      <p data-mk="Александър Петровски" data-en="Aleksandar Petrovski" data-sq="Aleksandar Petrovski">Александър Петровски</p>
      <p data-mk="Основач и Претседател" data-en="Founder and President" data-sq="Themelues dhe President">Основач и Претседател</p>
    </div>
    <div class="sig">
      <div class="sig-line"></div>
      <p data-mk="Марија Стојанова" data-en="Marija Stojanova" data-sq="Marija Stojanova">Марија Стојанова</p>
      <p data-mk="Координаторка на Програми" data-en="Program Coordinator" data-sq="Koordinatore e Programeve">Координаторка на Програми</p>
    </div>
  </div>

  <img src="https://placehold.co/180x120/png?text=Logo" alt="Zelena Makedonija Logo" class="logo">

  <p class="foundation" data-mk="Зелена Македонија Фондација © 2025" data-en="Green Macedonia Foundation © 2025" data-sq="Fondacioni Green Maqedoni © 2025">Зелена Македонија Фондација © 2025</p>
</div>

<!-- Dil Seçenekleri -->
<div class="lang-selector">
  <button class="lang-btn active" data-lang="mk">MK</button>
  <button class="lang-btn" data-lang="en">EN</button>
  <button class="lang-btn" data-lang="sq">SQ</button>
</div>

<!-- Paylaşım Butonları -->
<div class="share-buttons">
  <a href="#" class="share-btn" id="shareFacebook"><i class="fab fa-facebook-f"></i> Facebook</a>
  <a href="#" class="share-btn" id="shareInstagram"><i class="fab fa-instagram"></i> Instagram</a>
  <a href="#" class="share-btn" id="shareTwitter"><i class="fab fa-twitter"></i> Twitter</a>
  <a href="#" class="share-btn" id="shareLinkedIn"><i class="fab fa-linkedin-in"></i> LinkedIn</a>
  <a href="#" class="share-btn" id="whatsappBtn"><i class="fab fa-whatsapp"></i> WhatsApp</a>
  <button class="share-btn" id="saveBtn"><i class="fas fa-download"></i> Kaydet</button>
</div>

<!-- Geri Dön Butonu -->
<a href="donate.html" class="back-btn">Geri Dön</a>

<!-- JavaScript -->
<script>
function switchLang(lang) {
  document.querySelectorAll('[data-mk],[data-en],[data-sq]').forEach(el => {
    const text = el.getAttribute(`data-${lang}`);
    if (text !== null) {
      el.textContent = text;
    }
  });
  document.querySelectorAll('.lang-btn').forEach(b => {
    b.classList.toggle('active', b.dataset.lang === lang);
  });
  document.documentElement.lang = lang;
}

document.querySelectorAll('.lang-btn').forEach(btn => {
  btn.addEventListener('click', () => switchLang(btn.dataset.lang));
});

document.addEventListener('DOMContentLoaded', () => {
  const donationData = JSON.parse(localStorage.getItem('donationData'));
  if (donationData) {
    switchLang(donationData.lang);
    document.getElementById('donorName').innerText = donationData.fullName;
    document.getElementById('donationDetails').innerText = donationData.forWhom ? `Во име на ${donationData.forWhom}, засадени се ${donationData.saplingCount} fidanki.` : `Засадени се ${donationData.saplingCount} fidanki.`;
    document.getElementById('message').innerText = donationData.message || '';
  } else {
    document.getElementById('certificate').innerHTML = '<p class="text-red-600">Грешка: Нема податоци за донација. Ве молиме пробајте повторно.</p>';
  }

  const certificate = document.getElementById('certificate');
  const shareUrl = window.location.href;

  document.getElementById('shareFacebook').href = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(shareUrl)}`;
  document.getElementById('shareInstagram').href = `https://www.instagram.com/?url=${encodeURIComponent(shareUrl)}`;
  document.getElementById('shareTwitter').href = `https://twitter.com/intent/tweet?url=${encodeURIComponent(shareUrl)}&text=Мојот сертификат за донација!`;
  document.getElementById('shareLinkedIn').href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(shareUrl)}`;
  document.getElementById('whatsappBtn').href = `whatsapp://send?text=${encodeURIComponent('Мојот сертификат за донација: ' + shareUrl)}`;

  // Kaydet Butonu
  document.getElementById('saveBtn').addEventListener('click', () => {
    html2canvas(certificate).then(canvas => {
      const link = document.createElement('a');
      link.href = canvas.toDataURL('image/png');
      link.download = 'donation_certificate.png';
      link.click();
    });
  });
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>